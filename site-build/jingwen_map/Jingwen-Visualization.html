<html>
<head>
    <meta charset='utf-8' />
    <title>LA Bird Observation</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
	<script src="https://api.mapbox.com/mapbox-gl-js/v1.6.1/mapbox-gl.js"></script>
	<link href="https://api.mapbox.com/mapbox-gl-js/v1.6.1/mapbox-gl.css" rel="stylesheet" />
<style>
body {
  margin: 0;
  padding: 0;
  font-family: 'Helvetica Neue', Helvetica, Arial, Sans-serif;
}

#map {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 100%;
}

h1 {
  font-size: 20px;
  line-height: 25px;
}

h2 {
  font-size: 17px;
  line-height: 15px;
  margin-bottom: 10px;
}

h3 {
  font-size: 12px;
  line-height: 15px;
  margin-bottom: 10px;
}
    
h4 {
  font-size: 10px;
  line-height: 0px;
  margin-bottom: 5px;
}

a {
  text-decoration: none;
  color: #2dc4b2;
}

#console {
  position: absolute;
  width: 320px;
  margin: 10px;
  padding: 10px 20px;
    background-color: white;}
    
.session {
  margin-bottom: 10px;
}

.row {
  height: 15px;
  width: 100%;
}

.colors {
  background: linear-gradient(to right, #2dc4b2, #3bb3c3, #669ec4, #8b88b6, #a2719b, #aa5e79);
  margin-bottom: 5px;
}

.label {
  width: 15%;
  display: inline-block;
    text-align: center;}

  
    </style>
</head>
    
<body>
<div id="map"></div>
<div id='console'>
    <h1>Los Angeles Birds Observation</h1>
    <p>Visualising observed bird seasonal spatial distribution and dead birds in Los Angeles.</p>
        <h2 class='txt-m txt-bold mb6'>Birds Observation:</h2>
<div class='session'>

<h4><br><input type="radio" name="layers" id="layer1" value="AllSummer"><label class='txt-m txt-bold mb6' style="color: hsl(15, 80%, 60%)">All Birds - Summer </label></br></h4>
<h4><br><input type="radio" name="layers" id="layer2" value="AllWinter"><label class='txt-m txt-bold mb6' style="color: rgb(102,158,196)">All Birds - Winter </label></br></h4>
<h4><br><input type="radio" name="layers" id="layer3" value="BPS"><label class='txt-m txt-bold mb6' style="color: hsl(15, 80%, 60%)">Brown Pelican - Summer </label></br></h4>
<h4><br><input type="radio" name="layers" id="layer4" value="BPW"><label class='txt-m txt-bold mb6' style="color: rgb(102,158,196)">Brown Pelican - Winter </label></br></h4>
<h4><br><input type="radio" name="layers" id="layer5" value="GS"><label class='txt-m txt-bold mb6' style="color: hsl(15, 80%, 60%)">Western Gull - Summer </label></br></h4>
<h4><br><input type="radio" name="layers" id="layer6" value="GW"><label class='txt-m txt-bold mb6' style="color: rgb(102,158,196)">Western Gull - Winter </label></br></h4>
<h4><br><input type="radio" name="layers" id="layer7" value="HFS"><label class='txt-m txt-bold mb6' style="color: hsl(15, 80%, 60%)">House Finch - Summer </label></br></h4>
<h4><br><input type="radio" name="layers" id="layer8" value="HFW"><label class='txt-m txt-bold mb6' style="color: rgb(102,158,196)">House Finch - Winter </label></br></h4>
<h4><br><input type="radio" name="layers" id="layer9" value="WSS"><label class='txt-m txt-bold mb6' style="color: hsl(15, 80%, 60%)">White-Crowned Sparrow - Summer </label></br></h4>
<h4><br><input type="radio" name="layers" id="layer10" value="WSW"><label class='txt-m txt-bold mb6' style="color: rgb(102,158,196)">White-Crowned Sparrow - Winter </label></br></h4>

  <h3>Density</h3>
  <div class='row colors'>
  </div>
  <div class='row labels'>
    <div class='label'>0</div>
    <div class='label'>0.2</div>
    <div class='label'>0.6</div>
    <div class='label'>0.4</div>
    <div class='label'>0.8</div>
    <div class='label'>1</div>
  </div>
      <h2>Bird Death</h2>
    <h4><br><label class='checkbox-container mr18'>
           <input type="radio" name="layers" id="layer17" value="DeadBird" checked>         
            <span class='txt-s' style="color: hsl(15, 80%, 60%)">Dead Birds</span>
          </label></br></h4>
          <h4><br><label class='checkbox-container mr18'>
           <input type="radio" name="layers" id="layer18" value="Bird-Window" checked>
            <span class='txt-s' style="color: hsl(43, 80%, 50%)">Bird-Window Collision</span>
          </label></br></h4>
</div>
</div>
        
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiamluZ3dlbmgiLCJhIjoiY2s1cDZrMWFkMGRuczNrcWw5MGNmdGRxayJ9.tByuAyF6AJYnAJHtvgSBLQ';

var map = new mapboxgl.Map({
		container: 'map', // container id
		style: 'mapbox://styles/jingwenh/ckad8yhv307kt1io424urvb3s', // stylesheet location
		center: [-118.381, 34.1393], // starting position [lng, lat]
		zoom: 8.5 // starting zoom
	});

map.on('load', function() {
         
map.addControl(new mapboxgl.NavigationControl());


//Creat Layer1:AllSummer
map.addLayer({
id: 'AllSummer',
type: 'heatmap',
source: {type: 'vector',
        url: 'mapbox://jingwenh.4uxv238y' // Your Mapbox tileset Map ID
        },
        'source-layer': 'AllSummer-a8p81q', 
paint: {
'heatmap-weight': 1,
'heatmap-intensity': 1,
'heatmap-color': [
'interpolate',
['linear'],
['heatmap-density'],
0, 'rgba(236,222,239,0)',
0.2,'rgb(45,196,178)',
0.4, 'rgb(102,158,196)',
0.6, 'rgb(139,136,182)',
0.8, 'rgb(162,113,155)',
1,'rgb(170,94,121)'
],
'heatmap-radius': {
stops: [
[5, 10],
[15, 20]
]
},
'heatmap-opacity': 0
}
});

    
//Creat Layer2:AllWinter
map.addLayer({
id: 'AllWinter',
type: 'heatmap',
source: {type: 'vector',
        url: 'mapbox://jingwenh.b4nlydmz' // Your Mapbox tileset Map ID
        },
        'source-layer': 'AllWinter-484thb', 
paint: {
'heatmap-weight': 1,
'heatmap-intensity': 1,
'heatmap-color': [
'interpolate',
['linear'],
['heatmap-density'],
0, 'rgba(236,222,239,0)',
0.2,'rgb(45,196,178)',
0.4, 'rgb(102,158,196)',
0.6, 'rgb(139,136,182)',
0.8, 'rgb(162,113,155)',
1,'rgb(170,94,121)'
],
'heatmap-radius': {
stops: [
[5, 10],
[15, 20]
]
},
'heatmap-opacity': 0
}
});
    
//Creat Layer3:BPS
map.addLayer({
id: 'BPS',
type: 'heatmap',
source: {type: 'vector',
        url: 'mapbox://jingwenh.9p7dbf72' // Your Mapbox tileset Map ID
        },
        'source-layer': 'Brown_Pelican_Summer-9h3nba', 
paint: {
'heatmap-weight': 1,
'heatmap-intensity': 1,
'heatmap-color': [
'interpolate',
['linear'],
['heatmap-density'],
0, 'rgba(236,222,239,0)',
0.2,'rgb(45,196,178)',
0.4, 'rgb(102,158,196)',
0.6, 'rgb(139,136,182)',
0.8, 'rgb(162,113,155)',
1,'rgb(170,94,121)'
],
'heatmap-radius': {
stops: [
[8, 10],
[20, 20]
]
},
'heatmap-opacity': 0
}
});
    
//Creat Layer4:BPW
map.addLayer({
id: 'BPW',
type: 'heatmap',
source: {type: 'vector',
        url: 'mapbox://jingwenh.1kheh2t7' // Your Mapbox tileset Map ID
        },
        'source-layer': 'Brown_Pelican_Winter-d54n85', 
paint: {
'heatmap-weight': 1,
'heatmap-intensity': 1,
'heatmap-color': [
'interpolate',
['linear'],
['heatmap-density'],
0, 'rgba(236,222,239,0)',
0.2,'rgb(45,196,178)',
0.4, 'rgb(102,158,196)',
0.6, 'rgb(139,136,182)',
0.8, 'rgb(162,113,155)',
1,'rgb(170,94,121)'
],
'heatmap-radius': {
stops: [
[8, 10],
[20, 20]
]
},
'heatmap-opacity': 0
}
});

//Creat Layer5:GS
map.addLayer({
id: 'GS',
type: 'heatmap',
source: {type: 'vector',
        url: 'mapbox://jingwenh.5ruko7is' // Your Mapbox tileset Map ID
        },
        'source-layer': 'GullSummer-0gyq4j', 
paint: {
'heatmap-weight': 1,
'heatmap-intensity': 1,
'heatmap-color': [
'interpolate',
['linear'],
['heatmap-density'],
0, 'rgba(236,222,239,0)',
0.2,'rgb(45,196,178)',
0.4, 'rgb(102,158,196)',
0.6, 'rgb(139,136,182)',
0.8, 'rgb(162,113,155)',
1,'rgb(170,94,121)'
],
'heatmap-radius': {
stops: [
[8, 10],
[20, 20]
]
},
'heatmap-opacity': 0
}
});
    

//Creat Layer6:GW
map.addLayer({
id: 'GW',
type: 'heatmap',
source: {type: 'vector',
        url: 'mapbox://jingwenh.0bmtc0rg' // Your Mapbox tileset Map ID
        },
        'source-layer': 'GullWinter-68e7du', 
paint: {
'heatmap-weight': 1,
'heatmap-intensity': 1,
'heatmap-color': [
'interpolate',
['linear'],
['heatmap-density'],
0, 'rgba(236,222,239,0)',
0.2,'rgb(45,196,178)',
0.4, 'rgb(102,158,196)',
0.6, 'rgb(139,136,182)',
0.8, 'rgb(162,113,155)',
1,'rgb(170,94,121)'
],
'heatmap-radius': {
stops: [
[8, 10],
[20, 20]
]
},
'heatmap-opacity': 0
}
});
    

//Creat Layer7:HFS
map.addLayer({
id: 'HFS',
type: 'heatmap',
source: {type: 'vector',
        url: 'mapbox://jingwenh.776hf46f' // Your Mapbox tileset Map ID
        },
        'source-layer': 'HFSummer-2s903h', 
paint: {
'heatmap-weight': 1,
'heatmap-intensity': 1,
'heatmap-color': [
'interpolate',
['linear'],
['heatmap-density'],
0, 'rgba(236,222,239,0)',
0.2,'rgb(45,196,178)',
0.4, 'rgb(102,158,196)',
0.6, 'rgb(139,136,182)',
0.8, 'rgb(162,113,155)',
1,'rgb(170,94,121)'
],
'heatmap-radius': {
stops: [
[8, 10],
[20, 20]
]
},
'heatmap-opacity': 0
}
});
    

//Creat Layer8:HFW
map.addLayer({
id: 'HFW',
type: 'heatmap',
source: {type: 'vector',
        url: 'mapbox://jingwenh.85nvef5z' // Your Mapbox tileset Map ID
        },
        'source-layer': 'HFWinter-6h1edn', 
paint: {
'heatmap-weight': 1,
'heatmap-intensity': 1,
'heatmap-color': [
'interpolate',
['linear'],
['heatmap-density'],
0, 'rgba(236,222,239,0)',
0.2,'rgb(45,196,178)',
0.4, 'rgb(102,158,196)',
0.6, 'rgb(139,136,182)',
0.8, 'rgb(162,113,155)',
1,'rgb(170,94,121)'
],
'heatmap-radius': {
stops: [
[8, 10],
[20, 20]
]
},
'heatmap-opacity': 0
}
});

//Creat Layer9:WSS
map.addLayer({
id: 'HSS',
type: 'heatmap',
source: {type: 'vector',
        url: 'mapbox://jingwenh.adu03oga' // Your Mapbox tileset Map ID
        },
        'source-layer': 'White-crowned_Sparrow_Summer-2krshz', 
paint: {
'heatmap-weight': 1,
'heatmap-intensity': 1,
'heatmap-color': [
'interpolate',
['linear'],
['heatmap-density'],
0, 'rgba(236,222,239,0)',
0.2,'rgb(45,196,178)',
0.4, 'rgb(102,158,196)',
0.6, 'rgb(139,136,182)',
0.8, 'rgb(162,113,155)',
1,'rgb(170,94,121)'
],
'heatmap-radius': {
stops: [
[8, 10],
[20, 20]
]
},
'heatmap-opacity': 0
}
});
    
//Creat Layer10:WSW
map.addLayer({
id: 'WSW',
type: 'heatmap',
source: {type: 'vector',
        url: 'mapbox://jingwenh.719g4fnz' // Your Mapbox tileset Map ID
        },
        'source-layer': 'White-crowned_Sparrow_Winter-7a6e11', 
paint: {
'heatmap-weight': 1,
'heatmap-intensity': 1,
'heatmap-color': [
'interpolate',
['linear'],
['heatmap-density'],
0, 'rgba(236,222,239,0)',
0.2,'rgb(45,196,178)',
0.4, 'rgb(102,158,196)',
0.6, 'rgb(139,136,182)',
0.8, 'rgb(162,113,155)',
1,'rgb(170,94,121)'
],
'heatmap-radius': {
stops: [
[8, 10],
[20, 20]
]
},
'heatmap-opacity': 0
}
});
    
//Creat Layer17：Dead Bird
map.addLayer({
                id: 'DeadBird',
                type: 'circle',
                source: {
                  type: 'vector',
                  url: 'mapbox://jingwenh.5k3cgdex' // Your Mapbox tileset Map ID
                },
                'source-layer': 'deadbirds-a13m2g', // name of tilesets
                'layout': {
                    'visibility': 'visible'
                },
                 paint: {
                    'circle-color': 'hsl(15, 80%, 60%)',
                    'circle-opacity': 0,
                    'circle-stroke-width': 0,
                    'circle-stroke-color': '#000',
                    'circle-stroke-opacity': 1,
                    'circle-radius': 4}
              });
    
//Creat Layer18：Bird-Window Collision         
map.addLayer({
                id: 'Bird-Window',
                type: 'circle',
                source: {
                  type: 'vector',
                  url: 'mapbox://jingwenh.3xl41scc' // Your Mapbox tileset Map ID
                },
                'source-layer': 'bird-window_collision-912i8v', // name of tilesets
                'layout': {
                    'visibility': 'visible'
                },
                 paint: {
                    'circle-color': 'hsl(43, 80%, 50%)',
                    'circle-opacity': 0,
                    'circle-stroke-width': 0,
                    'circle-stroke-color': '#000',
                    'circle-stroke-opacity': 1,
                    'circle-radius': 5}
              })
    


    
document.getElementById("layer17").addEventListener("click", function(){
map.setPaintProperty('DeadBird','circle-opacity',0.95);
map.setPaintProperty('Bird-Window','circle-opacity',0);
});

document.getElementById("layer18").addEventListener("click", function(){
map.setPaintProperty('DeadBird','circle-opacity',0);
map.setPaintProperty('Bird-Window','circle-opacity',0.95);
});

document.getElementById("layer1").addEventListener("click", function(){
map.setPaintProperty('AllSummer','heatmap-opacity',0.8);
map.setPaintProperty('AllWinter','heatmap-opacity',0);
map.setPaintProperty('BPS','heatmap-opacity',0);
map.setPaintProperty('BPW','heatmap-opacity',0);
map.setPaintProperty('GS','heatmap-opacity',0);
map.setPaintProperty('GW','heatmap-opacity',0);
map.setPaintProperty('HFS','heatmap-opacity',0);
map.setPaintProperty('HFW','heatmap-opacity',0);
map.setPaintProperty('WSS','heatmap-opacity',0);
map.setPaintProperty('WSW','heatmap-opacity',0);
});
    
document.getElementById("layer2").addEventListener("click", function(){
map.setPaintProperty('AllSummer','heatmap-opacity',0);
map.setPaintProperty('AllWinter','heatmap-opacity',0.8);
map.setPaintProperty('BPS','heatmap-opacity',0);
map.setPaintProperty('BPW','heatmap-opacity',0);
map.setPaintProperty('GS','heatmap-opacity',0);
map.setPaintProperty('GW','heatmap-opacity',0);
map.setPaintProperty('HFS','heatmap-opacity',0);
map.setPaintProperty('HFW','heatmap-opacity',0);
map.setPaintProperty('WSS','heatmap-opacity',0);
map.setPaintProperty('WSW','heatmap-opacity',0);
});
    
document.getElementById("layer3").addEventListener("click", function(){
map.setPaintProperty('AllSummer','heatmap-opacity',0);
map.setPaintProperty('AllWinter','heatmap-opacity',0);
map.setPaintProperty('BPS','heatmap-opacity',0.8);
map.setPaintProperty('BPW','heatmap-opacity',0);
map.setPaintProperty('GS','heatmap-opacity',0);
map.setPaintProperty('GW','heatmap-opacity',0);
map.setPaintProperty('HFS','heatmap-opacity',0);
map.setPaintProperty('HFW','heatmap-opacity',0);
map.setPaintProperty('WSS','heatmap-opacity',0);
map.setPaintProperty('WSW','heatmap-opacity',0);
});
    
document.getElementById("layer4").addEventListener("click", function(){
map.setPaintProperty('AllSummer','heatmap-opacity',0);
map.setPaintProperty('AllWinter','heatmap-opacity',0);
map.setPaintProperty('BPS','heatmap-opacity',0);
map.setPaintProperty('BPW','heatmap-opacity',0.8);
map.setPaintProperty('GS','heatmap-opacity',0);
map.setPaintProperty('GW','heatmap-opacity',0);
map.setPaintProperty('HFS','heatmap-opacity',0);
map.setPaintProperty('HFW','heatmap-opacity',0);
map.setPaintProperty('WSS','heatmap-opacity',0);
map.setPaintProperty('WSW','heatmap-opacity',0);
});
    
document.getElementById("layer5").addEventListener("click", function(){
map.setPaintProperty('AllSummer','heatmap-opacity',0);
map.setPaintProperty('AllWinter','heatmap-opacity',0);
map.setPaintProperty('BPS','heatmap-opacity',0);
map.setPaintProperty('BPW','heatmap-opacity',0);
map.setPaintProperty('GS','heatmap-opacity',0.8);
map.setPaintProperty('GW','heatmap-opacity',0);
map.setPaintProperty('HFS','heatmap-opacity',0);
map.setPaintProperty('HFW','heatmap-opacity',0);
map.setPaintProperty('WSS','heatmap-opacity',0);
map.setPaintProperty('WSW','heatmap-opacity',0);
});
    
document.getElementById("layer6").addEventListener("click", function(){
map.setPaintProperty('AllSummer','heatmap-opacity',0);
map.setPaintProperty('AllWinter','heatmap-opacity',0);
map.setPaintProperty('BPS','heatmap-opacity',0);
map.setPaintProperty('BPW','heatmap-opacity',0);
map.setPaintProperty('GS','heatmap-opacity',0);
map.setPaintProperty('GW','heatmap-opacity',0.8);
map.setPaintProperty('HFS','heatmap-opacity',0);
map.setPaintProperty('HFW','heatmap-opacity',0);
map.setPaintProperty('WSS','heatmap-opacity',0);
map.setPaintProperty('WSW','heatmap-opacity',0);
});
    
document.getElementById("layer7").addEventListener("click", function(){
map.setPaintProperty('AllSummer','heatmap-opacity',0);
map.setPaintProperty('AllWinter','heatmap-opacity',0);
map.setPaintProperty('BPS','heatmap-opacity',0);
map.setPaintProperty('BPW','heatmap-opacity',0);
map.setPaintProperty('GS','heatmap-opacity',0);
map.setPaintProperty('GW','heatmap-opacity',0);
map.setPaintProperty('HFS','heatmap-opacity',0.8);
map.setPaintProperty('HFW','heatmap-opacity',0);
map.setPaintProperty('WSS','heatmap-opacity',0);
map.setPaintProperty('WSW','heatmap-opacity',0);
});
    
    
document.getElementById("layer8").addEventListener("click", function(){
map.setPaintProperty('AllSummer','heatmap-opacity',0);
map.setPaintProperty('AllWinter','heatmap-opacity',0);
map.setPaintProperty('BPS','heatmap-opacity',0);
map.setPaintProperty('BPW','heatmap-opacity',0);
map.setPaintProperty('GS','heatmap-opacity',0);
map.setPaintProperty('GW','heatmap-opacity',0);
map.setPaintProperty('HFS','heatmap-opacity',0);
map.setPaintProperty('HFW','heatmap-opacity',0.8);
map.setPaintProperty('WSS','heatmap-opacity',0);
map.setPaintProperty('WSW','heatmap-opacity',0);
});
   
        
document.getElementById("layer9").addEventListener("click", function(){
map.setPaintProperty('AllSummer','heatmap-opacity',0);
map.setPaintProperty('AllWinter','heatmap-opacity',0);
map.setPaintProperty('BPS','heatmap-opacity',0);
map.setPaintProperty('BPW','heatmap-opacity',0);
map.setPaintProperty('GS','heatmap-opacity',0);
map.setPaintProperty('GW','heatmap-opacity',0);
map.setPaintProperty('HFS','heatmap-opacity',0);
map.setPaintProperty('HFW','heatmap-opacity',0);
map.setPaintProperty('WSS','heatmap-opacity',0.8);
map.setPaintProperty('WSW','heatmap-opacity',0);
});
   
        
document.getElementById("layer10").addEventListener("click", function(){
map.setPaintProperty('AllSummer','heatmap-opacity',0);
map.setPaintProperty('AllWinter','heatmap-opacity',0);
map.setPaintProperty('BPS','heatmap-opacity',0);
map.setPaintProperty('BPW','heatmap-opacity',0);
map.setPaintProperty('GS','heatmap-opacity',0);
map.setPaintProperty('GW','heatmap-opacity',0);
map.setPaintProperty('HFS','heatmap-opacity',0);
map.setPaintProperty('HFW','heatmap-opacity',0);
map.setPaintProperty('WSS','heatmap-opacity',0);
map.setPaintProperty('WSW','heatmap-opacity',0.8);
});
   
  

    


})

        
</script>
  
</body>

</html>