<!DOCTYPE html> <html>
<head>
<meta charset='utf-8' />
<title>observation of Reptile</title>
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<script src="https://api.mapbox.com/mapbox-gl-js/v1.6.1/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v1.6.1/mapbox-gl.css" rel="stylesheet" />
<style>
.<style>
    body { 
        margin:0; 
        padding:0;
        font-family: 'Montserrat', Helvetica, sans-serif;
        }
     #map { position:absolute; top:0; bottom:0; width:100%; }

h1 {
  font-size: 23px;
  line-height: 30px;
  font-family: 'Work Sans';	
}

h2 {
font-family: 'Work Sans';
  font-size: 16px;
  line-height: 20px;
  margin-bottom: 10px;
}
p{
	font-family: 'Work Sans';	
	font-size: 13px;
}
h3 {
  font-size: 10px;
  line-height: 20px;
  margin-bottom: 10px;
}

#console {
  position: absolute;
  width: 200px;
  margin: 10px;
  padding: 10px 20px;
  background-color: white;
}

.map-overlay {
    font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
    position: absolute;
    width: 200px;
    min-width: 300px;
    top: 0;
    right: 0;
    padding: 15px;
}

.map-overlay .map-overlay-inner {
    background-color: rgba(255, 255, 255, 0.6);
    box-shadow:0 1px 2px rgba(0, 0, 0, 0.20);
    border-radius: 3px;
    padding: 10px;
    margin-bottom: 50px;
    width: 350px;
    height: 660px;
	
    
    
}

.map-overlay table {
    border: none;
    width: 100%;
}

.map-overlay h2 {
    line-height: 24px;
    display: block;
    margin: 0 0 0px;
}

.map-overlay label {
    font: 18px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
    display: block;
    vertical-align:middle;
    margin: 0 0 0 0px;
    padding: 0;
}

.map-overlay input {
    background-color: transparent;
    display: inline-block;
    width: 100%;
    min-width: 200px;
    position: relative;
    margin: 6px 0 0 0;
    cursor: ew-resize;
}

.map-overlay p.credit {
   margin: 0;
   padding: 0;
}


.map-overlay-inner fieldset {
border: none;
padding: 0;
margin: 0 0 10px;
}
 
.map-overlay-inner fieldset:last-child {
margin: 0;
}

.session{
        margin-bottom: 50px;
    
    }

.label{
        width: 30%;
        display: inline-block;
        text-align: center;
    }

.year_label{
    font-size: 14px;
  line-height: 20px;
  margin-bottom: 10px;
}
.legend{
     z-index: 10000;
    background-color: rgba(255, 255, 255, 0.6);
    box-shadow:0 1px 2px rgba(0, 0, 0, 0.20);
    position: absolute;
    left: 0;
    bottom:2px ;
}
</style>
    </head>
<body>
<div id='map'></div>

<div class='map-overlay top'style="height: 93%">
    <div class='map-overlay-inner'>
        <h1> Reptile 1902 - 2014 </h1>
        
        <div class='session' id='sliderbar'>
            <label><h2>show the Reptile by year: <span id='slider-value'>1902</span></h2></label>
            <table><tr><td>
                <input id='slider' type='range' min='1902' max='2014' step='1' value='1875' list='tickmarks'/>
            </td>     
            </tr></table>
       
        <div class='session'>
            <div class='row' id='filters'>
                <fieldset>
                <label><h2>Display variour type of reptile</h2></label>
                <select id='layer' name='layer'>
                    <option value='ALL' selected>ALL</option>
                    <option value='Amphibia'>Amphibia</option>
                    <option value='Anguis fragilis'>Anguis fragilis</option>
                    <option value='Bofu bufo'>Bofu bufo</option>
                    <option value='Coronella austriaca'>Coronella austriaca</option>
                    <option value='Epidalea calamita'>Epidalea calamita</option>
                    <option value='Ichthyosaura alpestris'>Ichthyosaura alpestris</option>
                    <option value='Lacerta agilis'>Lacerta agilis</option>
                    <option value='Lissotriton'>Lissotriton</option>
                    <option value='Lissotriton vulgaris'>Lissotriton vulgaris</option>
                    <option value='Natrix helvetica'>Natrix helvetica</option>
                    <option value='Ophidia'>Ophidia</option>
                    <option value='Pelophylax'>Pelophylax</option>
                    <option value='Pelophylax esculentus'>Pelophylax esculentus</option>
                    <option value='Pelophylax ridibundus'>Pelophylax ridibundus</option>
                    <option value='Rana temporaria'>Rana temporaria</option>
                    <option value='Reptilia'>Reptilia</option>
                    <option value='Salamandridae'>Salamandridae</option>
                    <option value='Trachemys scripta'>Trachemys scripta</option>
                    <option value='Triturus cristatus'>Triturus cristatus</option>
                    <option value='Vipera berus'>Vipera berus</option>
                    <option value='Zootoca vivipara'>Zootoca vivipara</option>
                </select>
                <button id="showLegend">Show Legend</button>
                </fieldset>
                 <p class='credit'> Reptile Data, <a href='https://nbnatlas.org'>NBN Atlas</a></p>
        <p class='credit'> Reptile image source, <a href='https://pixabay.com'>playbay</a></p>
                <p class='credit'> Reptile description <a href='https://www.wikipedia.org'>Wikipedia</a></p>
                
                <div class='showInfo' id="ALL" style="height: 400px;overflow-y: scroll;">
                    <div>
                        <h2>ALL</h2>  
                        <p>Reptiles in the reptilia class, such as the  turtles, crocodilians, snakes, amphisbaenians, lizards, tuatara, and including extinct non-avian dinosaurs.today,the study of reptiles is referred to as herpetology, which combine the modern amphibians and traditional reptile.<a href='https://en.wikipedia.org/wiki/Reptile'>Source</a> </p>
                        <h2>IMAGES</h2>
                        <img src='./img/all.jpg'></img>    
                    </div>
                </div>
                <div class='showInfo' id="Amphibia" style="height: 400px;overflow-y: scroll;">
                    <div>
                        <h2>Amphibia</h2>  
                        <p>Amphibians are ectothermic and tetrapod vertebrates. They live in various of habitats such as terrestrial, fossorial, arboreal or freshwater aquatic ecosystems. <a href='https://en.wikipedia.org/wiki/Amphibian'>Source</a> </p>
                        <h2>IMAGES</h2>
                        <img src='./img/Amphibia.png'></img>    
                    </div>
                </div>
                <div class='showInfo' id="Anguis fragilis" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>Anguis fragilis</h2>  
                        <p>Anguis fragilis that also called a deaf adder, a slowworm,a blindworm is a reptile live in Eurasia. In general, it has lizard's small eyes and it looks llike a blindsnake <a href='https://en.wikipedia.org/wiki/Anguis_fragilis'>Source</a> </p>
                        <h2>IMAGES</h2>
                        <img src='./img/fragilis.jpg'></img>    
                    </div>
                </div>
                <div class='showInfo' id="Bofu bufo" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>Bofu bufo</h2>  
                        <p>The common toad and it called the toad in Europe area. It has found in most of Europe,the western part of North Asia, and has a small part of Northwest Africa.<a href='https://en.wikipedia.org/wiki/Bufotalin'>Source</a> </p>
                        <h2>IMAGES</h2>
                        <img src='./img/bufo.jpg'></img>    
                    </div>
                </div>
                <div class='showInfo' id="Coronella austriaca" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>Coronella austriaca</h2>  
                        <p> Coronella austriaca is one of the species of non-venomous snake. it is found in Europe and northern Iran <a href='https://en.wikipedia.org/wiki/Smooth_snake'>Source</a></p>
                        <h2>IMAGES</h2>
                        <img src='./img/austriaca.jpg'></img>    
                    </div>
                </div>
                <div class='showInfo' id="Epidalea calamita" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>Epidalea calamita</h2>  
                        <p> Epidalea calamita belongs the toad and it is native to sandy and heathland areas of Europe. Comparing the common toads, It has a yellow lune in the middle of the back and have relatively short legs.<a href='https://en.wikipedia.org/wiki/Natterjack_toad'>Source</a></p>
                        <h2>IMAGES</h2>
                        <img src='./img/calamita.jpg'></img>    
                    </div>
                </div>
                <div class='showInfo' id="Ichthyosaura alpestris" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>Ichthyosaura alpestris</h2>  
                        <p>：The alpine newt (Ichthyosaura alpestris) is introduced to UK and New Zealand. In general, it measure 7–12 cm (2.8–4.7 in) in total.<a href='https://en.wikipedia.org/wiki/Alpine_newt'>Source</a></p>
                        <h2>IMAGES</h2>
                        <img src='./img/alpestris.jpg'></img>    
                    </div>
                </div>
                 <div class='showInfo' id="Lacerta agilis" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>Lacerta agilis</h2>  
                        <p>The Lacerta agilis is legged lizard. It found In northwest Europe and Russian range. <a href='https://en.wikipedia.org/wiki/Sand_lizard'>Source</a></p>
                        <h2>IMAGES</h2>
                        <img src='./img/agilis.jpg'></img>    
                    </div>
                </div>
                <div class='showInfo' id="Lissotriton" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>Lissotriton</h2>  
                        <p>Lissotriton is a class of newts and live in Europe and parts of Asia Minor. they are aquatic reptile during breeding time and they but live in terrestrial habitats over the rest of the time.<a href='https://en.wikipedia.org/wiki/Lissotriton'>Source</a></p>
                        <h2>IMAGES</h2>
                        <img src='./img/Lissotriton.jpg'></img>    
                    </div>
                </div>
                <div class='showInfo' id="Lissotriton vulgaris" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>Lissotriton vulgaris</h2>  
                        <p> The common newt (Lissotriton vulgaris) is a species of newt and it found in most area of Europe.<a href='https://en.wikipedia.org/wiki/Smooth_newt'>Source</a></p>
                        <h2>IMAGES</h2>
                        <img src='./img/Lissotriton.jpg'></img>    
                    </div>
                </div>
                 <div class='showInfo' id="Natrix helvetica" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>Natrix helvetica</h2>  
                        <p>Natrix Helvetica is a colubrid snake from Europe AND it general live in the area that close to water. Henetic analysis suggested that it could be treat as a separete species better than within the grass.<a href='https://en.wikipedia.org/wiki/Barred_grass_snake'>Source</a> </p>
                        <h2>IMAGES</h2>
                        <img src='./img/helvetica.jpg'></img>    
                    </div>
                </div>
                <div class='showInfo' id="Ophidia" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>Ophidia</h2>  
                        <p>Ophidia also called Pan-Serpentes is a squamate reptiles.<a href='https://en.wikipedia.org/wiki/Ophidia'>Source</a></p>
                        <h2>IMAGES</h2>
                        <img src='./img/Ophidia.jpg'></img>    
                    </div>
                </div>
                <div class='showInfo' id="Pelophylax" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>Pelophylax</h2>  
                        <p>Pelophylax is a class of true frogs and it widely found in Europe and Asia and a small part in northern Africa. <a href='https://en.wikipedia.org/wiki/Pelophylax'>Source</a></p>
                        <h2>IMAGES</h2>
                        <img src='./img/Pelophylax.jpg'></img>    
                    </div>
                </div>
                <div class='showInfo' id="Pelophylax esculentus" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>esculentus</h2>  
                        <p>The Pelophylax Esculentus that also called edible frog, common water frog or green frog is a common name for the grog in European frog.<a href='https://en.wikipedia.org/wiki/Edible_frog'>Source</a></p>
                        <h2>IMAGES</h2>
                        <img src='./img/esculentus.jpg'></img>    
                    </div>
                </div>
                <div class='showInfo' id="Pelophylax ridibundus" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>Pelophylax ridibundus</h2>  
                        <p>The marsh frog (Pelophylax ridibundus) is the biggest frog live in Europe and belongs to the true frogs. It looks similar to edible frog and pool frog.<a href='https://en.wikipedia.org/wiki/Marsh_frog'>Source</a></p>
                        <h2>IMAGES</h2>
                        <img src='./img/pelophylaxridibundus.jpg'></img>    
                    </div>
                </div>
                <div class='showInfo' id="Rana temporaria" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>Rana temporaria</h2>  
                        <p>The common frog (Rana temporaria) that also called the European common frog, European common brown frog, or European grass frog is a semi-aquatic reptile.<a href='https://en.wikipedia.org/wiki/Common_frog'>Source</a></p>
                        <h2>IMAGES</h2>
                        <img src='./img/temporaria.jpg'></img>    
                    </div>
                </div>
                <div class='showInfo' id="Reptilia" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>Reptilia</h2>  
                        <p>Reptiles are tetrapod animals in the class Reptilia, comprising today's turtles, crocodilians, snakes, amphisbaenians, lizards, tuatara, and their extinct relatives including non-avian dinosaurs.<a href='https://en.wikipedia.org/wiki/Reptile'>Source</a></p>
                        <h2>IMAGES</h2>
                        <img src='./img/Reptilia.jpg'></img>    
                    </div>
                </div>
                <div class='showInfo' id="Salamandridae" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>Salamandridae</h2>  
                        <p> Salamandridae is a class that consisting of true salamanders and newts. There are 74 species have been identified in Europe, Asia, the northern of Africa, and North America. skin of Salamandrids have the number of poison glands.<a href='https://en.wikipedia.org/wiki/Salamandridae'>Source</a></p>
                        <h2>IMAGES</h2>
                        <img src='./img/Salamandridae.jpg'></img>    
                    </div>
                </div>
                <div class='showInfo' id="Trachemys scripta" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>Trachemys scripta</h2>  
                        <p>Trachemys scripta belongs to a common semiaquatic turtle. It is popular in the pet trade recently and has been introduced to other area.<a href='https://en.wikipedia.org/wiki/Pond_slider'>Source</a></p>
                        <h2>IMAGES</h2>
                        <img src='./img/scripta.jpg'></img>    
                    </div>
                </div>
                <div class='showInfo' id="Triturus cristatus" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>Triturus cristatus</h2>  
                        <p> Trachemys scripta belongs to a common semiaquatic turtle. It is popular in the pet trade recently and has been introduced to other area.<a href='https://en.wikipedia.org/wiki/Northern_crested_newt'>Source</a></p>
                        <h2>IMAGES</h2>
                        <img src='./img/Triturus.jpg'></img>    
                    </div>
                </div>
                <div class='showInfo' id="Vipera berus" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>Vipera berus</h2>  
                        <p> Vipera berus is a venomous snakeand and it is widly found in most of Western Europeand and East Asia.<a href='https://en.wikipedia.org/wiki/Vipera_berus'>Source</a></p>
                        <h2>IMAGES</h2>
                        <img src='./img/berus.jpg'></img>    
                    </div>
                </div>
                <div class='showInfo' id="Zootoca vivipara" style="height: 500px;overflow-y: scroll;">
                    <div>
                        <h2>Zootoca vivipara</h2>  
                        <p>Zootoca vivipara is viviparous lizard and a Eurasian lizard. lives further north than many other non-marine reptiles.These reptiles also give birth to live young rather than other lizards that laying eggs. <a href='https://en.wikipedia.org/wiki/Viviparous_lizard'>Source</a></p>
                        <h2>IMAGES</h2>
                        <img src='./img/Zootoca.jpg'></img>    
                    </div>
                </div>
            </div>
            </div>
        </div>
    </div>
</div>
<div class='legend' style='display:none;'>
    <div class='map-overlay-inner'>
    <h1> legend </h1>
    <div class='session'>
            <div class='row' id='filters'>
                <fieldset>
                <table bordercolor="#cccccc" cellspacing="0" cellpadding="0" width="100%" border="1" style="font-size:12px;border-collapse:collapse">
                    <tbody id="color">
                        <tr align="center">
                            <td><strong>color</strong></td>
                            <td><strong>Scientific name</strong></td>
                        </tr>
                         <tr>
                            <td bgcolor="#fbb03b">　</td>
                            <td>Anguis fragilis</td>
                            
                        </tr>
                        <tr><td bgcolor="#223b53"></td><td>Bofu bufo</td></tr>
                        <tr><td bgcolor="#FF1493"></td><td>Coronella austriaca</td></tr>
                        <tr><td bgcolor="#FF00FF"></td><td>Epidalea calamita</td></tr>
                        <tr><td bgcolor="#9932CC"></td><td>Ichthyosaura alpestris</td></tr>
                        <tr><td bgcolor="#0000CD"></td><td>Lacerta agilis</td></tr>
                        <tr><td bgcolor="#B0C4DE"></td><td>Lissotriton</td></tr>
                        <tr><td bgcolor="#1E90FF"></td><td>Lissotriton vulgaris</td></tr>
                        <tr><td bgcolor="#87CEEB"></td><td>Natrix helvetica</td></tr>
                        <tr><td bgcolor="#5F9EA0"></td><td>Ophidia</td></tr>
                        <tr><td bgcolor="#00CED1"></td><td>Pelophylax</td></tr>
                        <tr><td bgcolor="#008080"></td><td>Pelophylax esculentus</td></tr>
                        <tr><td bgcolor="#40E0D0"></td><td>Pelophylax ridibundus</td></tr>
                        <tr><td bgcolor="#90EE90"></td><td>Rana temporaria</td></tr>
                        <tr><td bgcolor="#32CD32"></td><td>Reptilia</td></tr>
                        <tr><td bgcolor="#228B22"></td><td>Salamandridae</td></tr>
                        <tr><td bgcolor="#ADFF2F"></td><td>Trachemys scripta</td></tr>
                        <tr><td bgcolor="#FFDEAD"></td><td>Triturus cristatus</td></tr>
                        <tr><td bgcolor="#CD853F"></td><td>Vipera berus</td></tr>
                        <tr><td bgcolor="#8B4513"></td><td>Zootoca vivipara</td></tr>
                        <tr><td bgcolor="red"></td><td>other</td></tr>
                        
                        
                    </tbody>
                </table>
                </fieldset>
            </div>
        </div>
    </div>

</div>
<script>
 
  mapboxgl.accessToken = 'pk.eyJ1Ijoid2FuemhpeGllIiwiYSI6ImNrN2t3N3kyNzAxaXQzZXBlZjN5OTluNHUifQ.0f_3Pqf2tFudneiUhx4-6Q';
    
 
  var map = new mapboxgl.Map({
    'container': 'map',
    'style': 'mapbox://styles/wanzhixie/cka6rm2h30j4f1ip8lzeqhe1b',
    'center': [-0.3, 51.5],
    'zoom': 9
  });


map.on('load', function () {

  var filterYear = ['==', ['number', ['get', 'End date year']], 1902];

  map.addLayer({
    id: 'reptile',
    type: 'circle',
    source: {
      type: 'vector',
      url: 'mapbox://wanzhixie.3zfc6ahk'
    },
    'source-layer': 'records-2020-05-12-djg4on',
    paint: {
            'circle-radius': 6,
            'circle-opacity': 1,
            'circle-color': [
              'match',
              ['get', 'Scientific name'],
              'Anguis fragilis', '#fbb03b',
              'Bofu bufo', '#223b53',
              'Coronella austriaca', '#FF1493',
              'Epidalea calamita', '#FF00FF',
              'Ichthyosaura alpestris', '#9932CC',
              'Lacerta agilis', '#0000CD',
              'Lissotriton', '#B0C4DE',
              'Lissotriton vulgaris', '#1E90FF',
              'Natrix helvetica', '#87CEEB',
              'Ophidia', '#5F9EA0',
              'Pelophylax','#00CED1',
              'Pelophylax esculentus','#008080',
              'Pelophylax ridibundus','#40E0D0',
              'Rana temporaria','#90EE90',
              'Reptilia','#32CD32',
              'Salamandridae','#228B22',
              'Trachemys scripta','#ADFF2F',
              'Triturus cristatus','#FFDEAD',
              'Vipera berus','#CD853F',
              'Zootoca vivipara','#8B4513',
              /* other */ 'red'
            ]
        },
    'filter': filterYear
  });

  var sliderValue = document.getElementById('slider-value');
  document.getElementById('slider').addEventListener('input', function (e) {
    var year = parseInt(e.target.value, 10);
    document.getElementById('layer').options[0].selected = true;
    filterYear = ['==', ['number', ['get', 'End date year']], year];
    map.setFilter('reptile', filterYear);
    document.getElementById('slider-value').innerText = year;
  });

  document.getElementById('layer').addEventListener('change', e => {
    var sname = e.target.value;
    console.log(sname)
    if (sname.trim() === "ALL") {
      map.setFilter('reptile', filterYear);
         var infos = document.getElementsByClassName('showInfo');
        for (let index = 0; index < infos.length; index++) {
            const element = infos[index];
            element.style.display='none';
        }
      document.getElementById(sname).style.display='block'
    } else {
        var infos = document.getElementsByClassName('showInfo');
        for (let index = 0; index < infos.length; index++) {
            const element = infos[index];
            element.style.display='none';
        }
        document.getElementById(sname).style.display='block'
        var year = document.getElementById('slider').value
        var filter = ['==', 'Scientific name', sname];
        var combinedFilter = ["any",['==','End date year',year],['==', 'Scientific name', sname]];
        map.setFilter('reptile', combinedFilter);
    }
  });

})

var flag = false;
document.getElementById('showLegend').addEventListener('click', e => {
    if(!flag){
        document.getElementsByClassName("legend")[0].style.display='block'
        document.getElementById('showLegend').innerText = 'Hide Legend'
        flag=true;
    }else{
        document.getElementsByClassName("legend")[0].style.display='none'
        document.getElementById('showLegend').innerText = 'Show Legend'
        flag=false;
    }
});
    hideid=['Amphibia','Anguis fragilis','Bofu bufo',"Coronella austriaca","Epidalea calamita","Ichthyosaura alpestris","Lacerta agilis",'Lissotriton',
      "Lissotriton vulgaris","Natrix helvetica","Ophidia","Pelophylax","Pelophylax esculentus","Pelophylax ridibundus","Rana temporaria",
      "Reptilia","Salamandridae","Trachemys scripta","Triturus cristatus","Vipera berus","Zootoca vivipara"]
  hide(hideid)
function hide(hideid) {
    for (var i=0;i<hideid.length;i++){
        document.getElementById(hideid[i]).style.display='none'
    }
}

</script>
</body>
</html>
    